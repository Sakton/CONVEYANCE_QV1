CREATE DATABASE demo_coveyance_db;

-- CREATE TYPE type_names_attributes AS ( name varchar(256) );

--VATS
CREATE TABLE vats (
	vat_id SERIAL,
	vat_stavka decimal(4, 2) NOT NULL,
	CONSTRAINT vats_valid CHECK ( vat_stavka > 0 AND vat_stavka < 100 )
);

INSERT INTO vats ( vat_stavka )
VALUES ( 15 ), ( 18 ), ( 19 ), ( 20 ), ( 21 ), ( 23 ), ( 25 ), ( 27 );

SELECT vat_stavka FROM vats;

SELECT vat_stavka FROM vats
ORDER BY vat_stavka;

SELECT vat_stavka FROM vats
ORDER BY vat_stavka DESC;

--testes
INSERT INTO vats ( vat_stavka )
VALUES (-1); -- + ERROR RANGE

--CITIES
CREATE TABLE sities (
	city_id SERIAL,
	city_name VARCHAR( 256 ) NOT NULL UNIQUE
);


INSERT INTO sities ( city_name )
VALUES ( 'Nürnberg-Hafen' ),
	   ( 'Frankfurt(Oder)'),
	   ( 'Hamburg' ),
	   ( 'Isernhagen' ),
	   ( 'Fuldabrück' ),
	   ( 'Göttingen' );
	   
INSERT INTO sities ( city_name )
VALUES ( 'Göttingen' );
	   
SELECT * FROM sities; --ERROR UNIQ

-- ALTER TABLE sities ALTER COLUMN city_name TYPE type_names_attributes 
-- USING SET city_name;

-- DISTRICTS
/*
CREATE TABLE districts (
	district_id SERIAL,
	district_name VARCHAR(256) NOT NULL
);

INSERT INTO districts ( district_name ) 
VALUES ();
*/
-- STRDETS

CREATE TABLE streets (
	street_id SERIAL,
	street_name varchar ( 256 ) NOT NULL
);

INSERT INTO streets ( street_name )
VALUES (' Rotterdamer Straße'),
	   ( 'Goepelstrasse' ),
	   ( 'Reichenstraße' ),
	   ( 'Werner-Siemens-Str.' ),
	   ( 'Rahlstedter Str.' ),
	   ( 'Owiedenfeldstrase' );

-- LOCALITYS
CREATE TABLE localitys (
	locality_id SERIAL,
	locality_name varchar( 256 )
);



























